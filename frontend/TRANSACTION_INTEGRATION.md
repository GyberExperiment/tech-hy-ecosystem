# TransactionHistory - –†–µ–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å BSC Testnet

## üéØ –û–±–∑–æ—Ä

TransactionHistory —Ç–µ–ø–µ—Ä—å –ø–æ–ª—É—á–∞–µ—Ç **—Ä–µ–∞–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å BSC Testnet —á–µ—Ä–µ–∑ RPC —Å–æ–±—ã—Ç–∏—è, –∑–∞–º–µ–Ω–∏–≤ mock –¥–∞–Ω–Ω—ã–µ –Ω–∞ –∂–∏–≤—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é.

## üîß –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. **LPLocker –°–æ–±—ã—Ç–∏—è**
- `VGTokensEarned` - –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç VG —á–µ—Ä–µ–∑ earnVG()
- `LPTokensLocked` - –∫–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±–ª–æ–∫–∏—Ä—É–µ—Ç LP —Ç–æ–∫–µ–Ω—ã  
- `VGTokensDeposited` - –¥–µ–ø–æ–∑–∏—Ç—ã VG —Ç–æ–∫–µ–Ω–æ–≤

### 2. **ERC20 –°–æ–±—ã—Ç–∏—è**
- `Transfer` - –ø–µ—Ä–µ–≤–æ–¥—ã VG, VC, LP —Ç–æ–∫–µ–Ω–æ–≤
- `Approval` - –æ–¥–æ–±—Ä–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤

### 3. **BNB –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**
- –û—Ç–ø—Ä–∞–≤–∫–∞/–ø–æ–ª—É—á–µ–Ω–∏–µ BNB (–∏—Å–∫–ª—é—á–∞—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–Ω—ã–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–æ –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ 50 –±–ª–æ–∫–∞–º–∏ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üöÄ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### RPC Endpoints (Fallback)
```typescript
const fallbackRpcUrls = [
  'https://bsc-testnet-rpc.publicnode.com',
  'https://data-seed-prebsc-1-s1.binance.org:8545', 
  'https://data-seed-prebsc-2-s1.binance.org:8545',
  'https://bsc-testnet.public.blastapi.io',
  'https://endpoints.omniatech.io/v1/bsc/testnet/public'
];
```

### –ü–∞—Ä—Å–∏–Ω–≥ —Å–æ–±—ã—Ç–∏–π
```typescript
// –ü—Ä–∏–º–µ—Ä –ø–∞—Ä—Å–∏–Ω–≥–∞ VGTokensEarned
const VG_TOKENS_EARNED_TOPIC = ethers.id("VGTokensEarned(address,uint256,uint256,uint256,uint256,uint256)");
const logs = await provider.getLogs({
  address: CONTRACTS.LP_LOCKER,
  topics: [VG_TOKENS_EARNED_TOPIC, ethers.zeroPadValue(account!, 32)],
  fromBlock: currentBlock - 1000,
  toBlock: currentBlock
});
```

### –¢–∏–ø—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- `earn_vg` - –ó–∞—Ä–∞–±–æ—Ç–∞—Ç—å VG (–∑–µ–ª–µ–Ω–∞—è –º–æ–ª–Ω–∏—è ‚ö°)
- `lock_lp` - –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å LP (–æ—Ä–∞–Ω–∂–µ–≤—ã–π —Ç—Ä–µ–Ω–¥ ‚ÜóÔ∏è)
- `transfer` - –ü–µ—Ä–µ–≤–æ–¥ —Ç–æ–∫–µ–Ω–æ–≤ (—Å–∏–Ω—è—è —Å—Ç—Ä–µ–ª–∫–∞ ‚ÜóÔ∏è)
- `approve` - –û–¥–æ–±—Ä–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ (—Å–µ—Ä–∞—è –≥–∞–ª–æ—á–∫–∞ ‚úì)

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: localStorage –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- **–õ–∏–º–∏—Ç—ã**: –ú–∞–∫—Å–∏–º—É–º 50 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –ø–æ—Å–ª–µ–¥–Ω–∏–µ 1000 –±–ª–æ–∫–æ–≤
- **AbortController**: –û—Ç–º–µ–Ω–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- **Retry –ª–æ–≥–∏–∫–∞**: Fallback –º–µ–∂–¥—É RPC endpoints

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
- –ö–Ω–æ–ø–∫–∞ —Ä—É—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏

## üé® UI/UX

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- –ü–æ —Ç–∏–ø—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (–≤—Å–µ, —Å—Ç–µ–π–∫–∏–Ω–≥, –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å, etc.)
- –ü–æ–∏—Å–∫ –ø–æ —Ö–µ—à—É –∏–ª–∏ —Ç–∏–ø—É —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- –ò–∫–æ–Ω–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –°—Ç–∞—Ç—É—Å (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ/–æ–∂–∏–¥–∞–Ω–∏–µ/–æ—à–∏–±–∫–∞)
- –í—Ä–µ–º—è "X –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥"
- –°—Å—ã–ª–∫–∞ –Ω–∞ BSCScan
- –î–µ—Ç–∞–ª–∏: —Å—É–º–º–∞, —Ç–æ–∫–µ–Ω, gas

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```typescript
import TransactionHistory from './components/TransactionHistory';

// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
<TransactionHistory />
```

### –•—É–∫ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
```typescript
import { useTransactionHistory } from './components/TransactionHistory';

const { addTransaction, updateTransactionStatus } = useTransactionHistory();

// –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
addTransaction({
  hash: '0x...',
  type: 'earn_vg',
  status: 'pending',
  amount: '100',
  token: 'VG'
});
```

## üêõ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- **RPC –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω**: Fallback –Ω–∞ –¥—Ä—É–≥–∏–µ endpoints
- **–ü–∞—Ä—Å–∏–Ω–≥ —Å–æ–±—ã—Ç–∏–π**: Graceful degradation, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
- **–ù–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π**: –ü–æ–∫–∞–∑ –ø—É—Å—Ç–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **–°–µ—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞**: –ü–æ–∫–∞–∑ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å:
```
TransactionHistory: Trying RPC https://bsc-testnet-rpc.publicnode.com...
TransactionHistory: RPC success with https://bsc-testnet-rpc.publicnode.com
TransactionHistory: Fetching LPLocker events from block 54763059 to 54764059
TransactionHistory: Transactions updated 5
```

## ‚úÖ –°—Ç–∞—Ç—É—Å

- ‚úÖ **LPLocker —Å–æ–±—ã—Ç–∏—è** - –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚úÖ **ERC20 Transfer/Approval** - –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
- ‚úÖ **BNB —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
- ‚úÖ **UI/UX** - –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±–Ω–æ–≤–ª–µ–Ω–æ
- ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: TransactionHistory —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å BSC Testnet –≤–º–µ—Å—Ç–æ mock –¥–∞–Ω–Ω—ã—Ö! 